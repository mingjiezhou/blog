<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>React 项目配置之 Win10 linux环境 | Hexo</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/blog/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><link rel="apple-touch-icon" href="/blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/blog/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">React 项目配置之 Win10 linux环境</h1><a id="logo" href="/blog/.">Hexo</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/blog/."><i class="fa fa-home"> Start</i></a><a href="/blog/archives/"><i class="fa fa-archive"> Archiv</i></a><a href="/blog/about/"><i class="fa fa-user"> Über</i></a><a href="/blog/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">React 项目配置之 Win10 linux环境</h1><div class="post-meta">Mar 27, 2019</div><div class="post-content"><h3 id="React-项目配置之-Win10-linux环境"><a href="#React-项目配置之-Win10-linux环境" class="headerlink" title="React 项目配置之 Win10 linux环境"></a>React 项目配置之 Win10 linux环境</h3><p>团队新启动一个 React 项目， 有些配置命令是 <code>Linux</code> 指令，同事用的 Mac 电脑，我 <code>git clone</code> 下来之后，发现 <code>npm install</code> 和 <code>npm start</code> 都有报错，原因是 <code>package-lock.json</code> 配置里面有用到软链接的添加和删除（linux指令），而我的是 win10系统，默认不支持，<code>git bash</code> 兼容性也不好，莫名报错，为了保持开发环境的一致性，决定在自己本地启用 linux 服务，这次使用 WSL（win10 的 linux 子系统） 来实现。</p>
<blockquote>
<p>Windows Subsystem for Linux（简称 WSL）是一个为在 Windows 10 上能够原生运行 Linux 二进制可执行文件（ELF格式）的兼容层。它是由微软与 Canonical 公司合作开发，目标是使纯正的 Ubuntu 14.04 “Trusty Tahr” 映像能下载和解压到用户的本地计算机，并且映像内的工具和实用工具能在此子系统上原生运行。<br>WSL 提供了一个微软开发的 Linux 兼容内核接口（不包含 Linux 代码），来自 <code>Ubuntu</code> 的用户模式二进制文件在其上运行。<br>该子系统不能运行所有<code>Linux</code>软件，例如那些图形用户界面，以及那些需要未实现的 <code>Linux</code> 内核服务的软件，不过，这可以用在外部 X 服务器上运行的图形 <code>X Window</code> 系统缓解。<br>此子系统起源于命运多舛的 Astoria 项目，其目的是允许 Android 应用运行在 Windows 10 Mobile上。<br>此功能组件从 <code>Windows 10 Insider Preview build 14316</code> 开始可用。<br>——维基百科</p>
</blockquote>
<h3 id="一、安装-linux-子系统"><a href="#一、安装-linux-子系统" class="headerlink" title="一、安装 linux 子系统"></a>一、安装 linux 子系统</h3><p><strong>开启两个 window 权限</strong></p>
<ol>
<li>设置 =&gt; 更新与安全 =&gt; 针对开发人员 =&gt; 开发人员模式</li>
</ol>
<p><img src="https://user-gold-cdn.xitu.io/2019/3/27/169bed0dcc4f48fa?w=1049&h=646&f=png&s=67669" width="80%" height="60%" align="center"></p>
<ol start="2">
<li>控制面版 =&gt; 程序 =&gt; 应用或关闭 Window 功能 =&gt; 选中：适用于Linux 的Window 子系统</li>
</ol>
<p><img src="https://user-gold-cdn.xitu.io/2019/3/27/169bed1b1ff70a63?w=1178&h=775&f=png&s=124604" width="80%" height="60%"></p>
<ol start="3">
<li>重启一下电脑~</li>
</ol>
<p><strong>安装</strong></p>
<p>直接打开 window 商店，搜索 linux, 下载、安装、启动；这里我下载的是 <code>Ubuntu</code> 版本，也是大家使用最多的一个 WSL 版本。</p>
<p><strong>更换 Ubuntu 版本的镜像源</strong></p>
<p>这个主要是解决 <code>Ubuntu</code> 系统安装软件时速度慢的问题，毕竟默认镜像源是在国外，你懂的</p>
<p>更换源我找的阿里的，中科大的也可以用，都列出来了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// 阿里源</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">// 中科大源</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ xenial main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span><br></pre></td></tr></table></figure></p>
<p><strong>更换步骤</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 备份原来的数据源配置文件</span><br><span class="line">cp /etc/apt/sources.list /etc/apt/sources.list_backup</span><br><span class="line"></span><br><span class="line">2. 编辑数据源配置文件，执行如下指令后继续点击回车键，进入vim 编辑模式，修改（此处可以了解下 vim 常用指令）完成后，Esc 键退出，wq! 指令保存（shift + &apos;:&apos;调出）</span><br><span class="line">vi /etc/apt/sources.list</span><br><span class="line">3. 更新配置</span><br><span class="line">apt-get update</span><br></pre></td></tr></table></figure></p>
<h3 id="二、配置前端开发环境"><a href="#二、配置前端开发环境" class="headerlink" title="二、配置前端开发环境"></a>二、配置前端开发环境</h3><p>要知道，这个 linux 系统是一个独立的系统，我们在 window 上安装的软件如 <code>Nodejs</code> 等都需要在 linux 下重新安装才行，下面介绍常用工具的安装方法</p>
<p><strong>Nodejs的安装</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 使用 curl 命令来下载nodejs 的源码</span><br><span class="line">curl -sL https://deb.nodesource.com/setup_9.x | sudo -E bash -</span><br><span class="line">2. Ubuntu包管理开始安装nodejs</span><br><span class="line">sudo apt-get install -y nodejs（sudo是mac特有的，win下忽略）</span><br></pre></td></tr></table></figure></p>
<p><strong>n 模块的安装与使用</strong></p>
<p>n 模块是专门用来管理Nodejs 版本的，它的作者同时也是鼎鼎大名的 express 框架的作者，它的特点就是简单，缺点也很明显就是<code>不支持window 系统</code>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install -g n // 全局安装</span><br><span class="line">n latest // 安装最近的正式版</span><br><span class="line">n stable // 安装最近的稳定版</span><br><span class="line">n rm 10.15.2 // 删除某个版本</span><br><span class="line">n use 10.15.2 // 使用某个版本</span><br></pre></td></tr></table></figure></p>
<p><strong>nvm的安装与使用</strong></p>
<p>其实nvm 和 n模块类似，但是我感觉更好用，可以用它在全局安装多个 Nodejs 版本并随意切换，下面是 linux 下的安装方法（window环境有类似的 gnvm）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash 下载源码</span><br><span class="line"></span><br><span class="line">source ~/.bashrc 源码解析安装</span><br><span class="line"></span><br><span class="line">nvm --version 有版本信息则说明安装成功</span><br><span class="line"></span><br><span class="line">nvm ls 可列出本地所有安装的 Nodejs 版本</span><br><span class="line"></span><br><span class="line">nvm ls-remote 可查看所有 Nodejs 版本</span><br><span class="line"></span><br><span class="line">nvm install &lt;version&gt;(版本号) 例如：nvm install v10.15.2</span><br><span class="line"></span><br><span class="line">nvm alias default v10.15.2 指定默认版本号</span><br><span class="line"></span><br><span class="line">nvm -v 查看版本</span><br></pre></td></tr></table></figure></p>
<p><strong>nrm的安装与使用</strong></p>
<p>nrm 是一个用来管理和快速切换私人 npm 配置的工具，可用来随意的切换 npm 镜像源，比如公司内网镜像，淘宝镜像等，建议全局安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">npm install nrm -g --save 全局安装</span><br><span class="line"></span><br><span class="line">nrm ls 查看默认配置，这里会列出所有的镜像</span><br><span class="line"></span><br><span class="line">nrm current 查看当前使用的是哪个源</span><br><span class="line"></span><br><span class="line">nrm use &lt;源名&gt; 切换到其它源，如 nrm use cnpm</span><br><span class="line"></span><br><span class="line">nrm add 命令可添加公司私有 npm 源，如 http://baozun.com(随便写的)，起个别名叫 baobao，nrm add baobao http://baozun.com</span><br><span class="line">此时再执行 nrm ls，发现 baobao 已添加成功</span><br><span class="line"></span><br><span class="line">nrm test npm 测速</span><br><span class="line"></span><br><span class="line">nrm del baobao 删除源配置</span><br></pre></td></tr></table></figure>
<p><img src="https://user-gold-cdn.xitu.io/2019/3/27/169bed64bfa36649?w=614&amp;h=212&amp;f=png&amp;s=8946" alt></p>
<p>好啦，到这里该装的都差不多了，我来试下启动 React 项目:</p>
<ol>
<li>npm install (安装所需依赖)</li>
<li>npm start (启动ing)</li>
</ol>
<p>成功啦！！！</p>
<p>好啦，现在项目成功的在 <code>linux</code> 环境下启动，而我的代码编辑工作还是在 <code>window</code> 环境，团队开发环境保持了一致，感觉很棒。</p>
<p>参考链接：</p>
<ol>
<li><a href="https://www.jianshu.com/p/bc38ed12da1d" target="_blank" rel="noopener">Windows10内置Linux子系统初体验</a></li>
<li><a href="https://www.jianshu.com/p/9b73e4e0bbb8" target="_blank" rel="noopener">win10下的神器Ubuntu子系统</a></li>
<li><a href="https://www.cnblogs.com/wangmeijian/p/7072053.html" target="_blank" rel="noopener">用nrm一键切换npm源</a></li>
<li><a href="https://www.cnblogs.com/kongxianghai/p/5660101.html" target="_blank" rel="noopener">使用nvm利器，管理node版本</a></li>
</ol>
<div style="text-align:center"><br><img src="https://user-gold-cdn.xitu.io/2019/3/27/169beea83d39c070?w=300&h=300&f=png&s=13686" style="width:160px; height:160px;"><br><p style="text-align:center; font-size:13px;">微信扫一扫，公众号：编码美学</p><br></div>
</div><div class="tags"></div><div class="post-nav"><a class="next" href="/blog/2019/03/16/怎么给开源项目提PR？/">怎么给开源项目提PR？</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://zhoumingjie.com/blog"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2019/03/27/React 项目配置之 Win10 linux环境/">React 项目配置之 Win10 linux环境</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/03/16/怎么给开源项目提PR？/">怎么给开源项目提PR？</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/03/15/通过-vuex-实现-vue-echarts-图表的手动-resize/">通过 vuex 实现 vue-echarts 图表的手动 resize</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/03/12/Javascript-中的爆栈/">Javascript 中的爆栈</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/07/22/API 接口加密方案/">API 接口加密方案</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/07/05/JavaScript-获取地址栏参数/">JavaScript 获取地址栏参数</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/06/30/Window-下-MySQL-环境的安装/">Window 下 MySQL 环境的安装</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/05/31/JavaScript-中的12种循环遍历方法/">JavaScript 中的12种循环遍历方法</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/05/21/前端切图技巧/">前端切图技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/03/30/require-js-基本用法/">require.js 基本用法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/blog/." rel="nofollow">Hexo.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/blog/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/blog/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/blog/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/blog/js/smartresize.js?v=0.0.0"></script></div></body></html>